# Локализация WordFlow

Этот проект поддерживает многоязычность с помощью Angular i18n.

## Поддерживаемые языки

- **Английский (en)** - основной язык
- **Русский (ru)** - дополнительный язык
- **Украинский (uk)** - дополнительный язык

## Структура файлов локализации

```
src/locale/
├── messages.en.xlf    # Английский (исходный)
├── messages.ru.xlf    # Русский (перевод)
└── messages.uk.xlf    # Украинский (перевод)
```

## Команды для работы с локализацией

### Извлечение строк для перевода
```bash
npm run extract-i18n
```
Эта команда извлекает все строки с атрибутом `i18n` из шаблонов и создает файл `messages.xlf`.

### Сборка для разных языков

#### Английская версия (по умолчанию)
```bash
npm run build
```

#### Русская версия
```bash
npm run build:ru
```

#### Украинская версия
```bash
npm run build:uk
```

#### Все языки
```bash
npm run build:all
```

## Как добавить новый язык

1. **Добавить конфигурацию в `angular.json`**:
```json
"i18n": {
  "sourceLocale": "en",
  "locales": {
    "ru": {
      "translation": "src/locale/messages.ru.xlf"
    },
    "uk": {
      "translation": "src/locale/messages.uk.xlf"
    },
    "es": {
      "translation": "src/locale/messages.es.xlf"
    }
  }
}
```

2. **Создать новый файл перевода**:
```bash
cp src/locale/messages.en.xlf src/locale/messages.es.xlf
```

3. **Добавить конфигурацию сборки в `angular.json`**:
```json
"build-es": {
  "builder": "@angular/build:application",
  "options": {
    // ... остальные опции
    "localize": ["es"]
  }
}
```

4. **Добавить скрипт в `package.json`**:
```json
"build:es": "ng build --configuration=build-es"
```

## Использование в шаблонах

### Простой текст
```html
<h1 i18n="@@page.title">Page Title</h1>
```

### С плейсхолдерами
```html
<p i18n="@@welcome.message">Welcome, {name}!</p>
```

### Атрибуты
```html
<img [alt]="'Image description' | i18n" i18n-alt="@@image.description">
```

### Плейсхолдеры в атрибутах
```html
<input [placeholder]="'Search...' | i18n" i18n-placeholder="@@search.placeholder">
```

## Структура ID для локализации

### Навигация
- `header.home` - Главная / Головна
- `header.allPosts` - Все статьи / Всі статті
- `header.about` - О нас / Про нас
- `header.login` - Войти / Увійти
- `header.signUp` - Регистрация / Реєстрація

### Страницы
- `posts.title` - Заголовок страницы статей
- `posts.subtitle` - Подзаголовок страницы статей
- `about.title` - Заголовок страницы "О нас"
- `about.mission.title` - Заголовок миссии

### Формы и действия
- `posts.search` - Поиск статей
- `posts.category` - Категория
- `posts.level` - Уровень
- `subscribe.button` - Кнопка подписки

### Состояния
- `posts.loading` - Загрузка
- `posts.error` - Ошибка
- `posts.empty` - Пустой результат
- `post.notFound` - Статья не найдена

### Категории
- `category.vocabulary` - Лексика
- `category.grammar` - Грамматика
- `category.business` - Бизнес / Бізнес
- `category.travel` - Путешествия / Подорожі
- `category.it` - IT
- `category.medical` - Медицина
- `category.academic` - Академический / Академічний
- `category.conversation` - Разговор / Розмова
- `category.kids` - Дети / Діти

### Уровни
- `level.a1a2` - A1-A2 (Начинающий / Початківець)
- `level.b1b2` - B1-B2 (Средний / Середній)
- `level.c1c2` - C1-C2 (Продвинутый / Просунутий)

## Особенности украинского перевода

### Грамматические особенности
- Использование украинских падежей
- Правильное склонение числительных
- Адаптация терминологии под украинский язык

### Технические термины
- **IT** - остается "IT" (международный термин)
- **Email** - остается "Email" (международный термин)
- **Level** - переводится как "Рівень"

### Культурные особенности
- Использование украинских названий месяцев и дней недели
- Адаптация примеров под украинский контекст
- Учет региональных особенностей

## Лучшие практики

1. **Используйте описательные ID**: `posts.search.placeholder` вместо `search`
2. **Группируйте связанные строки**: `header.*`, `posts.*`, `about.*`
3. **Используйте контекст**: `@@posts.loading` для загрузки статей
4. **Переводите все пользовательские строки**: кнопки, заголовки, сообщения
5. **Тестируйте переводы**: проверяйте длину текста в разных языках
6. **Учитывайте культурные особенности**: адаптируйте контент под целевую аудиторию

## Добавление новых строк

1. Добавьте атрибут `i18n` в HTML шаблон
2. Запустите `npm run extract-i18n`
3. Переведите новые строки в файлах локализации
4. Пересоберите проект

## Отладка

Для отладки локализации используйте:
```bash
ng serve --configuration=development
```

Это запустит приложение в режиме разработки с возможностью переключения языков.

## Проверка качества переводов

### Автоматическая проверка
```bash
# Проверка синтаксиса XLF файлов
npm run extract-i18n
```

### Ручная проверка
1. Соберите все версии: `npm run build:all`
2. Проверьте каждую версию в браузере
3. Убедитесь, что все строки переведены
4. Проверьте корректность отображения длинных текстов

## SEO для многоязычности

### URL структура
- `/` - английская версия
- `/ru/` - русская версия  
- `/uk/` - украинская версия

### Мета-теги
Добавьте соответствующие мета-теги для каждого языка:
```html
<link rel="alternate" hreflang="en" href="https://wordflow.com/">
<link rel="alternate" hreflang="ru" href="https://wordflow.com/ru/">
<link rel="alternate" hreflang="uk" href="https://wordflow.com/uk/">
``` 